extends Node

var entries = []
var entriesText = {
	"My QuickTime-Laws!":[
		true,
		{
		"text":"HELLO T.COMPUTER! I, am quicktime-event. and since i kinda RULE your stupid COMPUTER ASS im going to be putting in place NEW LAWS!\n\nLAW 1:\n\nYou will never ever insult me (Quick-Time Event) please\n\nLAW 2:\n\nif i ask you for 5 bucks you HAVE TO GIVE ME 5 BUCKS\n\nLAW 5:\n\nGetting Boobed is now slang for Getting Stabbed (came up with this one after going to the uk)\n\nLAW 31:\n\nYour 'Computer Shrilow' needs REGULAR. DOCTOR VISITS. IM MANDATING IT. mwahhaha!!\n\n",
		"id":0,
		"revealed?":true,
		},
		{
		"text":"",
		"id":1,
		"revealed?":false,
		},
		],
	"The Computer":[
		false,
		{
		"text":"'The Computer' is what this place is called by its dwellers, though it",
		"id":0,
		"revealed?":true,
		},
		{
		"text":"looks different to those on the inside,",
		"id":1,
		"revealed?":false,
		},
		{
		"text":"your viewing of it still remains accurate.",
		"id":2,
		"revealed?":true,
		},
		{
		"text":"",
		"id":3,
		"revealed?":false,
		},
		],
	"Melanie":[
		false,
		{
		"text":"oogly googly",
		"id":0,
		"revealed?":false,
		},
		{
		"text":"only this text should be visible",
		"id":1,
		"revealed?":true,
		},
		{
		"text":"oogly googly",
		"id":2,
		"revealed?":false,
		},
		],
	"Jellies":[
		false,
		{
		"text":"oogly googly",
		"id":0,
		"revealed?":false,
		},
		{
		"text":"only this text should be visible",
		"id":1,
		"revealed?":true,
		},
		{
		"text":"oogly googly",
		"id":2,
		"revealed?":false,
		},
		],
	"Minigames":[
		false,
		{
		"text":"oogly googly",
		"id":0,
		"revealed?":false,
		},
		{
		"text":"only this text should be visible",
		"id":1,
		"revealed?":true,
		},
		{
		"text":"oogly googly",
		"id":2,
		"revealed?":false,
		},
		],
	"Mines":[
		false,
		{
		"text":"oogly googly",
		"id":0,
		"revealed?":false,
		},
		{
		"text":"only this text should be visible",
		"id":1,
		"revealed?":true,
		},
		{
		"text":"oogly googly",
		"id":2,
		"revealed?":false,
		},
		],
	"Black Market":[
		true,
		{
		"text":"oogly googly",
		"id":0,
		"revealed?":false,
		},
		{
		"text":"only this text should be visible",
		"id":1,
		"revealed?":true,
		},
		{
		"text":"oogly googly",
		"id":2,
		"revealed?":false,
		},
		],
	"QuickTime-Event":[
		true,
		{
		"text":"QuickTime-Event, or QTE, is",
		"id":1,
		"revealed?":true,
		},
		{
		"text":" a PS3 Emulator Virus taken form on your computer, They have extensive access to your computer but mostly use it for good, but who knows what could happen once they realize.",
		"id":2,
		"revealed?":false,
		},
		],
	"Curses":[
		true,
		{
		"text":"Curse of Gambling:\nReplace's Melanies Shop with GAMBLING!!! run by THE ghostybricks. my goat. you HAVE to gamble to buy ANYTHING at all, literally anything! at all! and you're forced to buy whatever you get, even if its... bad.\n\n",
		"id":"gambling",
		"revealed?":false,
		},
		{
		"text":"Curse of Black Lung:\nNo Mines!\n\n",
		"id":"blacklung",
		"revealed?":false,
		},
		{
		"text":"Curse of Pet Allergies:\nNo Jellies!\n\n",
		"id":"jelly",
		"revealed?":false,
		},
		{
		"text":"Curse of Kindness:\nNo clicking Shrilow!\n\n",
		"id":"kindness",
		"revealed?":false,
		},
		{
		"text":"Curse of Mobile Game:\nYou have either pay gems, or watch ads to buy things. its hell. but you can watch an ad to get more minigame money!!... will you have to watch one anyways?.... yes\n\n",
		"id":"mobilegame",
		"revealed?":false,
		},
		{
		"text":"Curse of Taxes:\nEvery 5 minutes, the TAXMEN will come to collect 25% of your money! They'll probably fund a golf course with that\n\n",
		"id":"taxes",
		"revealed?":false,
		},
		{
		"text":"Curse of Lost Bank Account:\nMoney count only shows the amount of digits, not the actual numbers.\n\n",
		"id":"bankaccount",
		"revealed?":false,
		},
		{
		"text":"Curse of Senselessness:\nWarning messages at the bottom dont show up anymore, the sound for a screen event triggering will still play, though.\n\n",
		"id":"senselessness",
		"revealed?":false,
		},
		{
		"text":"Curse of Unpaid Labour:\nMiners are cheaper, but can sometimes go on strike!\n\n",
		"id":"unpaidlabour",
		"revealed?":false,
		},
		{
		"text":"Curse of Smoke Break:\nMakes melanie go on smoke break every 5 minutes, and has the break last 5 minutes aswell.\n\n",
		"id":"smokebreak",
		"revealed?":false,
		},
		{
		"text":"Curse of Capitalism:\nEvery menu becomes a SUBSCRIPTION SERVICE!!! you have to pay a specific amount every few minutes to access an area, if you dont have enough? CANCELLED!!! and the prices DEFINITELY arent going up... what're you talking about?\n\n",
		"id":"capitalism",
		"revealed?":false,
		},
		{
		"text":"Curse of Quicktime:\nHEY! THATS ME! Events happen every 30 seconds instead of every 2 minutes,and antiviruses only last 1 minute. I hope you like my minigames!\n\n",
		"id":"quicktime",
		"revealed?":false,
		},
		{
		"text":"Curse of :\nHEY! THATS ME! Events happen every 30 seconds instead of every 2 minutes,and antiviruses only last 1 minute. I hope you like my minigames!\n\n",
		"id":"quicktime",
		"revealed?":false,
		},
		{
		"text":"",
		"id":3,
		"revealed?":false,
		},
		],
	"fuck you":[
		false,
		{
		"text":"fuck you",
		"id":3,
		"revealed?":false,
		},
		]
	}

var selectedJournal = 0
var journalTextToDisplay = ""

func _unlock_entry(entryName):
	entriesText[entryName][0] = false
	updateEntryContents()

func _lock_entry(entryName):
	entriesText[entryName][0] = true
	updateEntryContents()

func _entry_state(entryName):
	return entriesText[entryName][0]

func _unlock_line(entryName, lineID):
	for i in entriesText[entryName].size():
		if i != 0:
			if entriesText[entryName][i].has("id"):
				entriesText[entryName][i]["revealed?"] = true
				break
	updateEntryContents()

func _ready():
	updateEntryContents()

func updateEntryContents():
	entries = []
	for e in entriesText.size():
		var completeEntry = ""
		if entriesText[entriesText.keys()[e]][0] == false:
			for i in range(1, entriesText[entriesText.keys()[e]].size()):
				if entriesText[entriesText.keys()[e]][i]["revealed?"] == true:
					completeEntry = completeEntry+entriesText[entriesText.keys()[e]][i]["text"]+" "
				if entriesText[entriesText.keys()[e]][i]["revealed?"] == false:
					completeEntry = completeEntry+"[bgcolor=black][color=black]"+entriesText[entriesText.keys()[e]][i]["text"]+"[/color][/bgcolor] "
			entries.append({"EntryName":entriesText.keys()[e], "Text":completeEntry})
