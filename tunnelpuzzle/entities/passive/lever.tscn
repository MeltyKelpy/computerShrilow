[gd_scene load_steps=19 format=4 uid="uid://cha7cdq4gg57n"]

[ext_resource type="Script" uid="uid://cnp3ulm0eugrk" path="res://addons/func_godot/src/map/func_godot_map.gd" id="1_0ixgm"]
[ext_resource type="Script" uid="uid://cnavbpoahxyox" path="res://tunnelpuzzle/entities/passive/lever.gd" id="1_6ypkn"]
[ext_resource type="Resource" uid="uid://bkhxcqsquw1yg" path="res://addons/func_godot/func_godot_default_map_settings.tres" id="2_6prdg"]
[ext_resource type="Material" uid="uid://bw48nmsg8vs8d" path="res://tunnelpuzzle/assets/textures/ComputerShrilow/wood.tres" id="3_6ypkn"]
[ext_resource type="Material" uid="uid://cqw887ncav64t" path="res://tunnelpuzzle/assets/textures/ComputerShrilow/gold.tres" id="4_6prdg"]
[ext_resource type="Shader" uid="uid://cuejasmieevy7" path="res://tunnelpuzzle/technical/outline.gdshader" id="4_8gc7x"]

[sub_resource type="BoxShape3D" id="BoxShape3D_8gc7x"]
size = Vector3(0.385315, 0.668457, 0.623535)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ls1na"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("4_8gc7x")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/size = 1.02

[sub_resource type="ArrayMesh" id="ArrayMesh_ls1na"]
_surfaces = [{
"aabb": AABB(-0.125, 0, -0.0625, 0.25, 0.5, 0.125),
"attribute_data": PackedByteArray("tKKRvLSikb20opG8AAAAALSikTwAAAAAtKKRPLSikb20ohG8tKKRvbSiETy0opG9tKIRPAAAAAC0ohG8AAAAALSiEby0opG8tKIRvLSikTy0ohE8tKKRPLSiETy0opG8tKIRvLSikby0ohE8tKKRvLSiETy0opE8tKIRvLSikTy0ohG8tKKRvbSiEbwAAAAAtKIRPAAAAAC0ohE8tKKRvbSikby0opG9tKKRPLSikb20opE8AAAAALSikbwAAAAA"),
"format": 34359742487,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAACAAMABAAFAAYABAAGAAcACAAJAAoACAAKAAsADAANAA4ADAAOAA8AEAARABIAEAASABMAFAAVABYAFAAWABcA"),
"material": ExtResource("3_6ypkn"),
"name": "ComputerShrilow/wood",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("AAAAvgAAAD8AAIC9AAAAvgAAAAAAAIC9AAAAPgAAAAAAAIC9AAAAPgAAAD8AAIC9AAAAvgAAAD8AAIC9AAAAvgAAAD8AAIA9AAAAvgAAAAAAAIA9AAAAvgAAAAAAAIC9AAAAPgAAAAAAAIC9AAAAvgAAAAAAAIC9AAAAvgAAAAAAAIA9AAAAPgAAAAAAAIA9AAAAPgAAAD8AAIC9AAAAPgAAAD8AAIA9AAAAvgAAAD8AAIA9AAAAvgAAAD8AAIC9AAAAPgAAAD8AAIC9AAAAPgAAAAAAAIC9AAAAPgAAAAAAAIA9AAAAPgAAAD8AAIA9AAAAvgAAAD8AAIA9AAAAPgAAAD8AAIA9AAAAPgAAAAAAAIA9AAAAvgAAAAAAAIA9/////////z//////////P/////////8//////////z8AAP9//3//vwAA/3//f/+/AAD/f/9//78AAP9//3//v/9/AAD/f/8//38AAP9//z//fwAA/3//P/9/AAD/f/8//3////9//7//f////3//v/9/////f/+//3////9//7////9//3//P////3//f/8/////f/9//z////9//3//P/9//3////+//3//f////7//f/9/////v/9//3////+/")
}]

[sub_resource type="ArrayOccluder3D" id="ArrayOccluder3D_qrh3b"]
vertices = PackedVector3Array(-0.125, 0.5, -0.0625, -0.125, 0, -0.0625, 0.125, 0, -0.0625, 0.125, 0.5, -0.0625, -0.125, 0.5, -0.0625, -0.125, 0.5, 0.0625, -0.125, 0, 0.0625, -0.125, 0, -0.0625, 0.125, 0, -0.0625, -0.125, 0, -0.0625, -0.125, 0, 0.0625, 0.125, 0, 0.0625, 0.125, 0.5, -0.0625, 0.125, 0.5, 0.0625, -0.125, 0.5, 0.0625, -0.125, 0.5, -0.0625, 0.125, 0.5, -0.0625, 0.125, 0, -0.0625, 0.125, 0, 0.0625, 0.125, 0.5, 0.0625, -0.125, 0.5, 0.0625, 0.125, 0.5, 0.0625, 0.125, 0, 0.0625, -0.125, 0, 0.0625)
indices = PackedInt32Array(0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_l8kc1"]
points = PackedVector3Array(-0.125, 0.5, -0.0625, -0.125, 0, -0.0625, 0.125, 0, -0.0625, 0.125, 0.5, -0.0625, -0.125, 0.5, 0.0625, -0.125, 0, 0.0625, 0.125, 0, 0.0625, 0.125, 0.5, 0.0625)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8gc7x"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("4_8gc7x")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/size = 1.02

[sub_resource type="ArrayMesh" id="ArrayMesh_8gc7x"]
_surfaces = [{
"aabb": AABB(-0.0625, -0.0625, 0, 0.125, 0.125, 0.4375),
"attribute_data": PackedByteArray("VGFRu1RhUbtUYVG7VGFRO1RhUTtUYVE7VGFRO1RhUbsAAAAAVGFRuyo1tzxUYVG7KjW3PFRhUTsAAAAAVGFROwAAAABUYVG7AAAAAFRhUTsqNbc8VGFROyo1tzxUYVG7AAAAAFRhUbsqNbc8VGFRuyo1tzxUYVE7AAAAAFRhUTsAAAAAVGFRuwAAAABUYVE7KjW3PFRhUTsqNbc8VGFRu1RhUbtUYVG7VGFRO1RhUbtUYVE7VGFRO1RhUbtUYVE7"),
"format": 34359742487,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAACAAMABAAFAAYABAAGAAcACAAJAAoACAAKAAsADAANAA4ADAAOAA8AEAARABIAEAASABMAFAAVABYAFAAWABcA"),
"material": ExtResource("4_6prdg"),
"name": "ComputerShrilow/gold",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("AACAvQAAgD0AAAAAAACAvQAAgL0AAAAAAACAPQAAgL0AAAAAAACAPQAAgD0AAAAAAACAvQAAgD0AAAAAAACAvQAAgD0AAOA+AACAvQAAgL0AAOA+AACAvQAAgL0AAAAAAACAPQAAgL0AAAAAAACAvQAAgL0AAAAAAACAvQAAgL0AAOA+AACAPQAAgL0AAOA+AACAPQAAgD0AAAAAAACAPQAAgD0AAOA+AACAvQAAgD0AAOA+AACAvQAAgD0AAAAAAACAPQAAgD0AAAAAAACAPQAAgL0AAAAAAACAPQAAgL0AAOA+AACAPQAAgD0AAOA+AACAvQAAgD0AAOA+AACAPQAAgD0AAOA+AACAPQAAgL0AAOA+AACAvQAAgL0AAOA+/////////z//////////P/////////8//////////z8AAP9//3//vwAA/3//f/+/AAD/f/9//78AAP9//3//v/9/AAD/f/8//38AAP9//z//fwAA/3//P/9/AAD/f/8//3////9//7//f////3//v/9/////f/+//3////9//7////9//3//P////3//f/8/////f/9//z////9//3//P/9//3////+//3//f////7//f/9/////v/9//3////+/")
}]

[sub_resource type="ArrayOccluder3D" id="ArrayOccluder3D_ls1na"]
vertices = PackedVector3Array(-0.0625, 0.0625, 0, -0.0625, -0.0625, 0, 0.0625, -0.0625, 0, 0.0625, 0.0625, 0, -0.0625, 0.0625, 0, -0.0625, 0.0625, 0.4375, -0.0625, -0.0625, 0.4375, -0.0625, -0.0625, 0, 0.0625, -0.0625, 0, -0.0625, -0.0625, 0, -0.0625, -0.0625, 0.4375, 0.0625, -0.0625, 0.4375, 0.0625, 0.0625, 0, 0.0625, 0.0625, 0.4375, -0.0625, 0.0625, 0.4375, -0.0625, 0.0625, 0, 0.0625, 0.0625, 0, 0.0625, -0.0625, 0, 0.0625, -0.0625, 0.4375, 0.0625, 0.0625, 0.4375, -0.0625, 0.0625, 0.4375, 0.0625, 0.0625, 0.4375, 0.0625, -0.0625, 0.4375, -0.0625, -0.0625, 0.4375)
indices = PackedInt32Array(0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_qrh3b"]
points = PackedVector3Array(-0.0625, 0.0625, 0, -0.0625, -0.0625, 0, 0.0625, -0.0625, 0, 0.0625, 0.0625, 0, -0.0625, 0.0625, 0.4375, -0.0625, -0.0625, 0.4375, 0.0625, -0.0625, 0.4375, 0.0625, 0.0625, 0.4375)

[sub_resource type="Animation" id="Animation_ls1na"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("lever:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.785398, 0, 0)]
}

[sub_resource type="Animation" id="Animation_8gc7x"]
resource_name = "flip"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("lever:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(0.196146, 1),
"update": 0,
"values": [Vector3(-0.785398, 0, 0), Vector3(0.785398, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qrh3b"]
_data = {
&"RESET": SubResource("Animation_ls1na"),
&"flip": SubResource("Animation_8gc7x")
}

[node name="Lever" type="StaticBody3D"]
script = ExtResource("1_6ypkn")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00405884, 0.233312, 0.189697)
shape = SubResource("BoxShape3D_8gc7x")

[node name="base" type="Node3D" parent="."]
script = ExtResource("1_0ixgm")
local_map_file = "uid://dm34exfacghel"
map_settings = ExtResource("2_6prdg")
metadata/_custom_type_script = "uid://cnp3ulm0eugrk"

[node name="entity_0_worldspawn" type="StaticBody3D" parent="base"]
collision_mask = 0

[node name="entity_0_mesh_instance" type="MeshInstance3D" parent="base/entity_0_worldspawn"]
material_overlay = SubResource("ShaderMaterial_ls1na")
mesh = SubResource("ArrayMesh_ls1na")

[node name="entity_0_occluder_instance" type="OccluderInstance3D" parent="base/entity_0_worldspawn"]
occluder = SubResource("ArrayOccluder3D_qrh3b")

[node name="entity_0_brush_0_collision_shape" type="CollisionShape3D" parent="base/entity_0_worldspawn"]
shape = SubResource("ConvexPolygonShape3D_l8kc1")

[node name="lever" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 0.242796, 0)
script = ExtResource("1_0ixgm")
local_map_file = "uid://xhm4vo14dl14"
map_settings = ExtResource("2_6prdg")
metadata/_custom_type_script = "uid://cnp3ulm0eugrk"

[node name="entity_0_worldspawn" type="StaticBody3D" parent="lever"]
collision_mask = 0

[node name="entity_0_mesh_instance" type="MeshInstance3D" parent="lever/entity_0_worldspawn"]
material_overlay = SubResource("ShaderMaterial_8gc7x")
mesh = SubResource("ArrayMesh_8gc7x")

[node name="entity_0_occluder_instance" type="OccluderInstance3D" parent="lever/entity_0_worldspawn"]
occluder = SubResource("ArrayOccluder3D_ls1na")

[node name="entity_0_brush_0_collision_shape" type="CollisionShape3D" parent="lever/entity_0_worldspawn"]
shape = SubResource("ConvexPolygonShape3D_qrh3b")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_qrh3b")
}
